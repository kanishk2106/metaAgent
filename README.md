# MetaAgent: Automated Meta-Tool Synthesis

This project implements a pipeline for mining frequent tool usage patterns from the Toucan dataset and automatically generating "meta-tools" (combined tool functions) for an MCP (Model Context Protocol) server.

## Pipeline Overview

The system operates in a multi-step pipeline:

1.  **Pattern Mining** (`patternMining.py`): Mines frequent sequential patterns of tool usage (e.g., `create_document` â†’ `add_heading`) from the Toucan-1.5M dataset.
2.  **Corpus Building** (`build_toucan_meta_corpus.py`): Extracts full execution traces and aggregates tool schemas.
3.  **Flow Analysis** (`extract_tool_flow_chains.py`): Analyzes data flow between tools in a pattern to understand argument dependencies.
4.  **Candidate Generation** (`build_meta_tool_candidates.py`): Proposes "meta-tool" candidates by combining patterns with their inferred wiring.
5.  **Family Grouping** (`analyze_meta_families.py`): Groups candidates into "families" based on their starting tool.
6.  **Meta-Tool Generation** (`metaAgent.py`): Uses an LLM (Gemini) to generate actual Python code for the meta-tools.

## Directory Structure

*   `tools/`: Basic, atomic tool implementations.
*   `metaTools/`: Generated meta-tool Python files.
*   `my_mcp_server/`: MCP server implementation hosting the tools.
*   `Output/`: Artifacts generated by running the tools.

## Requirements

Install dependencies using:
```bash
pip install -r requirements.txt
```

## Usage

Run the scripts in the order listed in the Pipeline Overview to regenerate the meta-tools.

## Evaluation

For evaluation provide different prompts to the server and then enter '/stats' to get the token usage and latency and other meta-data
